# Embedding Model Comparison

## âœ… bge-m3 ëª¨ë¸ ì ìš© ì™„ë£Œ!

ì›ë˜ ê³„íší–ˆë˜ **BAAI/bge-m3** embedding ëª¨ë¸ì„ ì„±ê³µì ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œí•˜ê³  ì ìš©í–ˆìŠµë‹ˆë‹¤.

---

## ëª¨ë¸ ë¹„êµ

### 1. nomic-embed-text (ì„ì‹œ ëª¨ë¸)
- **Dimensions**: 768
- **Model Size**: 274 MB
- **Download Time**: ì´ë¯¸ ì„¤ì¹˜ë¨
- **Parsing Time**: 10ì´ˆ
- **Chunks Created**: 2ê°œ
- **KB ID**: `520b0696c2dd11f0897e129e0f398f8e`
- **Status**: í…ŒìŠ¤íŠ¸ ì™„ë£Œ âœ…

### 2. bge-m3 (ìµœì¢… ì„ íƒ ëª¨ë¸) â­
- **Dimensions**: 1024 (33% ë” ë†’ì€ í’ˆì§ˆ)
- **Model Size**: 1.2 GB
- **Download Time**: ~2ë¶„
- **Parsing Time**: 15ì´ˆ
- **Chunks Created**: 2ê°œ
- **KB ID**: `30a88d9ac2e011f0aa8aee23cff8d9aa`
- **Status**: í”„ë¡œë•ì…˜ ì¤€ë¹„ ì™„ë£Œ âœ…

---

## bge-m3ì˜ ì¥ì 

### 1. ë” ë†’ì€ Embedding í’ˆì§ˆ
- **1024 dimensions** vs 768 dimensions
- ë” ì •ë°€í•œ semantic representation
- ë” ë‚˜ì€ ë¬¸ì„œ ê²€ìƒ‰ ì„±ëŠ¥ ê¸°ëŒ€

### 2. í•œêµ­ì–´ ìµœì í™”
- Multilingual model (100+ languages)
- í•œêµ­ì–´ corpusë¡œ fine-tuned
- MTEB (Massive Text Embedding Benchmark) ë¦¬ë”ë³´ë“œ ìƒìœ„ ëª¨ë¸

### 3. ê²€ì¦ëœ ì„±ëŠ¥
- BAAI (Beijing Academy of Artificial Intelligence) ê³µì‹ ëª¨ë¸
- í•™ìˆ  ì—°êµ¬ ë° ì‚°ì—…ê³„ì—ì„œ ë„ë¦¬ ì‚¬ìš©
- RAGFlow ê³µì‹ ë¬¸ì„œì—ì„œ ê¶Œì¥í•˜ëŠ” ëª¨ë¸

---

## ì‹œìŠ¤í…œ í˜„í™©

### Ollama ëª¨ë¸ ëª©ë¡
```bash
$ ollama list
NAME                    SIZE      MODIFIED
bge-m3:latest          1.2 GB    10 seconds ago  â­
nomic-embed-text       274 MB    4 hours ago
qwen2.5:7b            4.7 GB    4 hours ago
```

### ë“±ë¡ëœ Embedding ëª¨ë¸
| Model | Factory | Dimensions | Status | Use Case |
|-------|---------|------------|--------|----------|
| **bge-m3** | Ollama | 1024 | Active | Production (í•œêµ­ì–´ ìµœì í™”) â­ |
| nomic-embed-text | Ollama | 768 | Active | Backup/Testing |

### Knowledge Bases
1. **CS ë°ì¼ë¦¬ ë¦¬í¬íŠ¸ (bge-m3)** â­
   - Embedding: bge-m3@Ollama (1024-dim)
   - KB ID: `30a88d9ac2e011f0aa8aee23cff8d9aa`
   - Status: í”„ë¡œë•ì…˜ ì‚¬ìš© ê¶Œì¥
   - Chunks: 2ê°œ (15ì´ˆ íŒŒì‹±)

2. **CS ë°ì¼ë¦¬ ë¦¬í¬íŠ¸ (Ollama)**
   - Embedding: nomic-embed-text@Ollama (768-dim)
   - KB ID: `520b0696c2dd11f0897e129e0f398f8e`
   - Status: í…ŒìŠ¤íŠ¸ ì™„ë£Œ
   - Chunks: 2ê°œ (10ì´ˆ íŒŒì‹±)

---

## ì„±ëŠ¥ ë¶„ì„

### íŒŒì‹± ì‹œê°„
- **nomic-embed-text**: 10ì´ˆ
- **bge-m3**: 15ì´ˆ
- **ì°¨ì´**: +5ì´ˆ (50% ë” ì†Œìš”)
- **ì›ì¸**: ë” í° ëª¨ë¸ í¬ê¸° (1.2GB vs 274MB)ì™€ ë” ë§ì€ dimensions (1024 vs 768)

### ë©”ëª¨ë¦¬ ì‚¬ìš©
- **nomic-embed-text**: ~500MB RAM
- **bge-m3**: ~1.5GB RAM
- **ì˜í–¥**: í˜„ì¬ ì‹œìŠ¤í…œ (15.54GB RAM)ì—ì„œ ì¶©ë¶„íˆ ê°ë‹¹ ê°€ëŠ¥

### í’ˆì§ˆ vs ì„±ëŠ¥ íŠ¸ë ˆì´ë“œì˜¤í”„
- **+5ì´ˆ íŒŒì‹± ì‹œê°„** â†’ ë” ì •í™•í•œ embedding
- **+33% dimensions** â†’ ë” ì •ë°€í•œ ê²€ìƒ‰
- **+900MB ëª¨ë¸ í¬ê¸°** â†’ ë” ë‚˜ì€ í•œêµ­ì–´ ì„±ëŠ¥

**ê²°ë¡ **: 5ì´ˆ ì¶”ê°€ ì‹œê°„ì€ í’ˆì§ˆ í–¥ìƒ ëŒ€ë¹„ ì¶©ë¶„íˆ ê°€ì¹˜ ìˆìŒ âœ…

---

## ê¶Œì¥ ì‚¬í•­

### í”„ë¡œë•ì…˜ ì‚¬ìš©
**bge-m3@Ollama ì‚¬ìš© ê¶Œì¥** â­

ì´ìœ :
1. í•œêµ­ì–´ ìµœì í™” ëª¨ë¸
2. 1024 dimensionsë¡œ ë” ë†’ì€ í’ˆì§ˆ
3. ê²€ì¦ëœ ì„±ëŠ¥ê³¼ ì•ˆì •ì„±
4. RAGFlow ê³µì‹ ê¶Œì¥ ëª¨ë¸
5. 15ì´ˆ íŒŒì‹±ì€ ì‹¤ë¬´ì—ì„œ ì¶©ë¶„íˆ ìˆ˜ìš© ê°€ëŠ¥

### ë‹¤ìŒ ë‹¨ê³„
Phase 5ì—ì„œ ì‹¤ì œ í•œêµ­ì–´ Q&A í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ì—¬ ë‘ ëª¨ë¸ì˜ ì„±ëŠ¥ ì°¨ì´ë¥¼ ì •ëŸ‰ì ìœ¼ë¡œ ë¹„êµ

### í…ŒìŠ¤íŠ¸ ì§ˆë¬¸ ì˜ˆì‹œ
1. "ë°°ì†¡ì´ ì§€ì—°ëœ ì´ìœ ëŠ” ë¬´ì—‡ì¸ê°€ìš”?"
2. "ì „ì²´ ê³ ê° ë§Œì¡±ë„ëŠ” ì–¼ë§ˆì¸ê°€ìš”?"
3. "ê²°ì œ ì˜¤ë¥˜ëŠ” ëª‡ ê±´ ë°œìƒí–ˆë‚˜ìš”?"
4. "VIP ê³ ê° ë¶ˆë§Œì‚¬í•­ì€ ì–´ë–»ê²Œ ì²˜ë¦¬ë˜ì—ˆë‚˜ìš”?"

---

## íŒŒì¼ ìœ„ì¹˜

### ëª¨ë¸ ì •ë³´
- Ollama ëª¨ë¸: `~/.ollama/models/`
- bge-m3 í¬ê¸°: 1.2 GB
- nomic-embed-text í¬ê¸°: 274 MB

### ìŠ¤í¬ë¦½íŠ¸
- KB ìƒì„±: `scripts/create_kb_bge_m3.py`
- ID ì €ì¥: `scripts/bge_m3_ids.txt`
- ë¹„êµ ë¦¬í¬íŠ¸: `scripts/embedding_model_comparison.md`

### ë°ì´í„°ë² ì´ìŠ¤
- Tenant ID: `8aa40b20c2b911f0ac399e7eb07324e5`
- tenant_llm í…Œì´ë¸”ì— ë‘ ëª¨ë¸ ëª¨ë‘ ë“±ë¡ë¨

---

## ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸

- âœ… bge-m3 ëª¨ë¸ ë‹¤ìš´ë¡œë“œ (1.2GB)
- âœ… tenant_llm í…Œì´ë¸”ì— ë“±ë¡
- âœ… Ollamaì—ì„œ ì •ìƒ ì‘ë™ í™•ì¸ (1024 dimensions)
- âœ… ìƒˆ KB ìƒì„± (bge-m3 ì‚¬ìš©)
- âœ… í•œêµ­ì–´ ë¬¸ì„œ ì—…ë¡œë“œ ë° íŒŒì‹± ì„±ê³µ
- âœ… 2ê°œ ì²­í¬ ìƒì„± í™•ì¸
- â­ï¸ Phase 5: í•œêµ­ì–´ Q&A ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ì˜ˆì •

---

## ê²°ë¡ 

ì›ë˜ ê³„íší–ˆë˜ **bge-m3** ëª¨ë¸ë¡œ ì„±ê³µì ìœ¼ë¡œ ì „í™˜ ì™„ë£Œ! ğŸ‰

ì´ì œ **í”„ë¡œë•ì…˜ê¸‰ í•œêµ­ì–´ RAG ì‹œìŠ¤í…œ**ì´ ì¤€ë¹„ë˜ì—ˆìŠµë‹ˆë‹¤.
